{"version":3,"file":"index.js","sources":["../lib/inovar-md.js"],"sourcesContent":["\nexport class InovarMd extends HTMLElement {\n    get src() {\n      return this.getAttribute('src')\n    }\n  \n    set src(val) {\n      this.reflect('src', val)\n    }\n  \n    get manualRender() {\n      return this.hasAttribute('manual-render')\n    }\n  \n    set manualRender(val) {\n      this.reflect('manual-render', val)\n    }\n  \n    reflect(name, val) {\n      if (val === false) {\n        this.removeAttribute(name)\n      } else {\n        this.setAttribute(name, val === true ? '' : val)\n      }\n    }\n  \n    static get observedAttributes() {\n      return ['src']\n    }\n  \n    attributeChangedCallback(name, old, val) {\n      if (name === 'src' && this.connected && !this.manualRender && val !== old) {\n        this.render()\n      }\n    }\n  \n    constructor(defaults) {\n      super()\n      this.version = '$VERSION'\n      this.config = {\n        markedUrl: 'https://cdn.jsdelivr.net/gh/markedjs/marked@4/marked.min.js',\n        prismUrl: [\n        //   ['https://cdn.jsdelivr.net/gh/PrismJS/prism@1/prism.min.js', 'data-manual'],\n        //   'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/plugins/autoloader/prism-autoloader.min.js',\n          'https://cdn.jsdelivr.net/gh/phothinmg/ptm@main/prism.js'\n        ],\n        cssUrls: [\n          'https://cdn.jsdelivr.net/gh/sindresorhus/github-markdown-css@4/github-markdown.min.css',\n        //   'https://cdn.jsdelivr.net/gh/PrismJS/prism@1/themes/prism.min.css',\n          'https://cdn.jsdelivr.net/gh/phothinmg/ptm@main/prism.css'\n        ],\n        hostCss:\n          ':host{display:block;position:relative;contain:content;}:host([hidden]){display:none;}',\n        ...defaults,\n        ...window.ZeroMdConfig\n      }\n      this.root = this.hasAttribute('no-shadow') ? this : this.attachShadow({ mode: 'open' })\n      this.root.prepend(\n        ...this.makeNodes(`<div class=\"markdown-styles\"></div><div class=\"markdown-body\"></div>`)\n      )\n      if (!this.constructor.ready) {\n        this.constructor.ready = Promise.all([\n          !!window.marked || this.loadScript(this.config.markedUrl),\n          !!window.Prism || this.loadScript(this.config.prismUrl)\n        ])\n      }\n      this.clicked = this.clicked.bind(this)\n      if (!this.manualRender) {\n        // Scroll to hash id after first render. However, `history.scrollRestoration` inteferes with this\n        // on refresh. It's much better to use a `setTimeout` rather than to alter the browser's behaviour.\n        this.render().then(() => setTimeout(() => this.goto(location.hash), 250))\n      }\n      this.observer = new MutationObserver(() => {\n        this.observeChanges()\n        if (!this.manualRender) this.render()\n      })\n      this.observer.observe(this, { childList: true })\n      this.observeChanges()\n    }\n  \n    /**\n     * Start observing changes, if not already so, in `template` and `script`.\n     */\n    observeChanges() {\n      this.querySelectorAll('template,script[type=\"text/markdown\"]').forEach((n) => {\n        this.observer.observe(n.content || n, {\n          childList: true,\n          subtree: true,\n          attributes: true,\n          characterData: true\n        })\n      })\n    }\n  \n    connectedCallback() {\n      this.connected = true\n      this.fire('inovar-md-connected', {}, { bubbles: false, composed: false })\n      this.waitForReady().then(() => {\n        this.fire('inovar-md-ready')\n      })\n      if (this.shadowRoot) {\n        this.shadowRoot.addEventListener('click', this.clicked)\n      }\n    }\n  \n    disconnectedCallback() {\n      this.connected = false\n      if (this.shadowRoot) {\n        this.shadowRoot.removeEventListener('click', this.clicked)\n      }\n    }\n  \n    waitForReady() {\n      const ready =\n        this.connected ||\n        new Promise((resolve) => {\n          this.addEventListener('inovar-md-connected', function handler() {\n            this.removeEventListener('inovar-md-connected', handler)\n            resolve()\n          })\n        })\n      return Promise.all([this.constructor.ready, ready])\n    }\n  \n    fire(name, detail = {}, opts = { bubbles: true, composed: true }) {\n      if (detail.msg) {\n        console.warn(detail.msg)\n      }\n      this.dispatchEvent(\n        new CustomEvent(name, {\n          detail: { node: this, ...detail },\n          ...opts\n        })\n      )\n    }\n  \n    tick() {\n      return new Promise((resolve) => requestAnimationFrame(resolve))\n    }\n  \n    // Coerce anything into an array\n    arrify(any) {\n      return any ? (Array.isArray(any) ? any : [any]) : []\n    }\n  \n    // Promisify an element's onload callback\n    onload(node) {\n      return new Promise((resolve, reject) => {\n        node.onload = resolve\n        node.onerror = (err) => reject(err.path ? err.path[0] : err.composedPath()[0])\n      })\n    }\n  \n    // Load a url or load (in order) an array of urls via <script> tags\n    loadScript(urls) {\n      return Promise.all(\n        this.arrify(urls).map((item) => {\n          const [url, ...attrs] = this.arrify(item)\n          const el = document.createElement('script')\n          el.src = url\n          el.async = false\n          attrs.forEach((attr) => el.setAttribute(attr, ''))\n          return this.onload(document.head.appendChild(el))\n        })\n      )\n    }\n  \n    // Scroll to selected element\n    goto(sel) {\n      let el\n      try {\n        el = this.root.querySelector(sel)\n      } catch {}\n      if (el) el.scrollIntoView()\n    }\n  \n    // Hijack same-doc anchor hash links\n    clicked(ev) {\n      if (ev.metaKey || ev.ctrlKey || ev.altKey || ev.shiftKey || ev.defaultPrevented) {\n        return\n      }\n      const a = ev.target.closest('a')\n      if (a && a.hash && a.host === location.host && a.pathname === location.pathname) {\n        this.goto(a.hash)\n      }\n    }\n  \n    dedent(str) {\n      str = str.replace(/^\\n/, '')\n      const match = str.match(/^\\s+/)\n      return match ? str.replace(new RegExp(`^${match[0]}`, 'gm'), '') : str\n    }\n  \n    getBaseUrl(src) {\n      const a = document.createElement('a')\n      a.href = src\n      return a.href.substring(0, a.href.lastIndexOf('/') + 1)\n    }\n  \n    // Runs Prism highlight async; falls back to sync if Web Workers throw\n    highlight(container) {\n      return new Promise((resolve) => {\n        const unhinted = container.querySelectorAll('pre>code:not([class*=\"language-\"])')\n        unhinted.forEach((n) => {\n          // Dead simple language detection :)\n          const lang = n.innerText.match(/^\\s*</)\n            ? 'markup'\n            : n.innerText.match(/^\\s*(\\$|#)/)\n            ? 'bash'\n            : 'js'\n          n.classList.add(`language-${lang}`)\n        })\n        try {\n          window.Prism.highlightAllUnder(container, true, resolve())\n        } catch {\n          window.Prism.highlightAllUnder(container)\n          resolve()\n        }\n      })\n    }\n  \n    /**\n     * Converts HTML string into HTMLCollection of nodes\n     * @param {string} html\n     * @returns {HTMLCollection}\n     */\n    makeNodes(html) {\n      const tpl = document.createElement('template')\n      tpl.innerHTML = html\n      return tpl.content.children\n    }\n  \n    /**\n     * Constructs the styles dom and returns HTML string\n     * @returns {string} `markdown-styles` string\n     */\n    buildStyles() {\n      const get = (query) => {\n        const node = this.querySelector(query)\n        return node ? node.innerHTML || ' ' : ''\n      }\n      const urls = this.arrify(this.config.cssUrls)\n      const html = `<style>${this.config.hostCss}</style>${get('template[data-merge=\"prepend\"]')}${\n        get('template:not([data-merge])') ||\n        urls.reduce((a, c) => `${a}<link rel=\"stylesheet\" href=\"${c}\">`, '')\n      }${get('template[data-merge=\"append\"]')}`\n      return html\n    }\n  \n    /**\n     * Constructs the markdown body nodes and returns HTML string\n     * @param {*} opts Markedjs options\n     * @returns {Promise<string>} `markdown-body` string\n     */\n    async buildMd(opts = {}) {\n      const src = async () => {\n        if (!this.src) return ''\n        const resp = await fetch(this.src)\n        if (resp.ok) {\n          const md = await resp.text()\n          return window.marked.parse(md, {\n            baseUrl: this.getBaseUrl(this.src),\n            ...opts\n          })\n        } else {\n          this.fire('inovar-md-error', {\n            msg: `[inovar-md] HTTP error ${resp.status} while fetching src`,\n            status: resp.status,\n            src: this.src\n          })\n          return ''\n        }\n      }\n      const script = () => {\n        const el = this.querySelector('script[type=\"text/markdown\"]')\n        if (!el) return ''\n        const md = el.hasAttribute('data-dedent') ? this.dedent(el.text) : el.text\n        return window.marked.parse(md, opts)\n      }\n      return (await src()) || script()\n    }\n  \n    /**\n     * Returns 32-bit DJB2a hash in base36\n     * @param {string} str\n     * @returns {string}\n     */\n    getHash(str) {\n      let hash = 5381\n      for (let index = 0; index < str.length; index++) {\n        hash = ((hash << 5) + hash) ^ str.charCodeAt(index)\n      }\n      return (hash >>> 0).toString(36)\n    }\n  \n    /**\n     * Insert or replace styles node in root from a HTML string. If there are external stylesheet\n     * links, wait for them to load.\n     * @param {string} html styles string\n     * @returns {Promise<boolean|undefined>} returns true if stamped\n     */\n    async stampStyles(html) {\n      const hash = this.getHash(html)\n      const target = this.root.querySelector('.markdown-styles')\n      if (target.getAttribute('data-hash') !== hash) {\n        target.setAttribute('data-hash', hash)\n        const nodes = this.makeNodes(html)\n        const links = [...nodes].filter(\n          (i) => i.tagName === 'LINK' && i.getAttribute('rel') === 'stylesheet'\n        )\n        target.innerHTML = ''\n        target.append(...nodes)\n        await Promise.all(links.map((l) => this.onload(l))).catch((err) => {\n          this.fire('inovar-md-error', {\n            msg: '[inovar-md] An external stylesheet failed to load',\n            status: undefined,\n            src: err.href\n          })\n        })\n        return true\n      }\n    }\n  \n    /**\n     * Insert or replace HTML body string into DOM\n     * @param {string} html markdown-body string\n     * @param {string[]} [classes] list of classes to apply to `.markdown-body` wrapper\n     * @returns {Promise<boolean|undefined>} returns true if stamped\n     */\n    async stampBody(html, classes) {\n      const names = this.arrify(classes)\n      const hash = this.getHash(html + JSON.stringify(names))\n      const target = this.root.querySelector('.markdown-body')\n      if (target.getAttribute('data-hash') !== hash) {\n        target.setAttribute('data-hash', hash)\n        names.unshift('markdown-body')\n        target.setAttribute('class', names.join(' '))\n        const nodes = this.makeNodes(html)\n        target.innerHTML = ''\n        target.append(...nodes)\n        await this.highlight(target)\n        return true\n      }\n    }\n  \n    async render(opts = {}) {\n      await this.waitForReady()\n      const pending = this.buildMd(opts)\n      const styles = await this.stampStyles(this.buildStyles())\n      await this.tick()\n      const body = await this.stampBody(await pending, opts.classes)\n      this.fire('inovar-md-rendered', { node: this, stamped: { styles, body } })\n    }\n  }\n  \n  customElements.define('inovar-md', InovarMd)"],"names":["InovarMd","_HTMLElement","_inherits","_super","_createSuper","defaults","_this$root","_this","_classCallCheck","call","version","config","_objectSpread","markedUrl","prismUrl","cssUrls","hostCss","window","ZeroMdConfig","root","hasAttribute","_assertThisInitialized","attachShadow","mode","prepend","apply","_toConsumableArray","makeNodes","constructor","ready","Promise","all","marked","loadScript","Prism","clicked","bind","manualRender","render","then","setTimeout","goto","location","hash","observer","MutationObserver","observeChanges","observe","childList","_createClass","key","get","getAttribute","set","val","reflect","value","name","removeAttribute","setAttribute","attributeChangedCallback","old","connected","_this2","querySelectorAll","forEach","n","content","subtree","attributes","characterData","connectedCallback","_this3","fire","bubbles","composed","waitForReady","shadowRoot","addEventListener","disconnectedCallback","removeEventListener","_this4","resolve","handler","detail","arguments","length","undefined","opts","msg","console","warn","dispatchEvent","CustomEvent","node","tick","requestAnimationFrame","arrify","any","Array","isArray","onload","reject","onerror","err","path","composedPath","urls","_this5","map","item","_this5$arrify","_this5$arrify2","_toArray","url","attrs","slice","el","document","createElement","src","async","attr","head","appendChild","sel","querySelector","_unused","scrollIntoView","ev","metaKey","ctrlKey","altKey","shiftKey","defaultPrevented","a","target","closest","host","pathname","dedent","str","replace","match","RegExp","concat","getBaseUrl","href","substring","lastIndexOf","highlight","container","unhinted","lang","innerText","classList","add","highlightAllUnder","_unused2","html","tpl","innerHTML","children","buildStyles","_this6","query","reduce","c","_buildMd","_asyncToGenerator","_regeneratorRuntime","mark","_callee2","_this7","script","_args2","wrap","_callee2$","_context2","prev","next","_ref","_callee","resp","md","_callee$","_context","abrupt","fetch","sent","ok","text","parse","baseUrl","status","stop","t0","buildMd","getHash","index","charCodeAt","toString","_stampStyles","_callee3","_this8","nodes","links","_callee3$","_context3","filter","i","tagName","append","l","catch","stampStyles","_x","_stampBody","_callee4","classes","names","_callee4$","_context4","JSON","stringify","unshift","join","stampBody","_x2","_x3","_render","_callee5","pending","styles","body","_args5","_callee5$","_context5","t1","t2","stamped","_wrapNativeSuper","HTMLElement","customElements","define"],"mappings":"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"}